@model Graxei.Aplicacao.Implementacao.MVC4Unity.Models.AutenticacaoModel

<div class="modal fade" id="Modal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    @using (Ajax.BeginForm("Autenticacao", "Login", new AjaxOptions() { HttpMethod = "POST", OnFailure = "loadMessages" }))
    {
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h3 id="myModalLabel">@Rotulos.Login</h3>
                </div>
                @Html.ValidationSummary(true)
                <div class="modal-body">
                    <div id="divErro" class="row" style="visibility: hidden;">
                        <div class="error">@ViewBag.ErroAutenticacao</div>
                        </div>
                    @if (ViewBag.ErroAutenticacao != null)
                    {
                        <div class="auth">@ViewBag.ErroAutenticacao</div>
                    }
                    <label>
                        @Html.LabelFor(model => model.LoginOuEmail)
                    </label>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.LoginOuEmail)
                    </div>
                    <label>
                        @Html.LabelFor(model => model.Senha)
                    </label>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.Senha)
                    </div>
                </div>
                <div class="modal-footer">
                    @Ajax.ActionLink(Textos.EsqueceuSuaSenha, "RedefinirSenha", "Login", new { controller = "Login" }, new AjaxOptions() { UpdateTargetId = "myModalRemote", OnComplete = " $('#Modal2').modal('toggle')" })
                    <button type="button" class="btn btn-default" data-dismiss="modal">@Rotulos.Fechar</button>
                    <input type="submit" class="btn btn-primary" value="@Rotulos.Entrar"/>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    }
</div>
<!-- /.modal -->
<div id="myModalRemote"></div>
<script>
    $('#Modal2').modal('show') //ele vai iniciar o popup aqui.. o redefinr senha usa a mesma formula.. só que no final ao completar ele ira fechar esse popup..
</script>
<script>
    function loadMessages(error) {
        $('#divErro').css('visibility', 'visible');
    }
</script>